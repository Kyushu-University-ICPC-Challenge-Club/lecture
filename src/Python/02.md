# 2. 変数

コード内で数値や文字列などのデータ (値) を扱うには、**変数** を使用します．

変数とはデータの値を入れておく箱のようなものです．

変数に名前 (**変数名**) をつけることで、変数に値を入れることや変数から値を取得することができます．

## [ 1 ] 変数の宣言

変数を使用するためには、最初に変数の宣言をする必要があります．

変数の宣言は `変数名 = データの値` で行います．

#### コード 1

```py
# 変数 name を宣言
name = 'Taro'

# 変数 age を宣言
age = 18
```

変数に値を入れることを **代入** といい、コード 1 のように `=` を使用します．

`=` は **等しいという意味ではない** ことに注意しましょう．

## [ 2 ] 変数の出力

変数の中身の出力をしたい場合、[データの出力](./01.md#出力) と同様に `print` 関数を使用します．

`print(変数)` で変数の中身を出力します．

#### コード 2

```py
height = 170
print(height)

weight = 62.5
print('私の体重は', weight, 'kg です．')
```

#### 出力 2

```out
170
私の体重は 62.5 kg です．
```

::: tip TIP : f 文字列

先程のコード 2 の 5 行目のように、文字列と変数を組み合わせて出力したい場合は**f 文字列**が便利です．

f 文字列とは文字列の前に `f` をつけた文字列です (`f'文字列'`)．

次のコード 3 のように、文字列中の `{}` に挿入したい変数を指定して使用します．

#### コード 3

```py
weight = 62.5
print(f'私の体重は {weight} kg です．')
```

#### 出力 3

```out
私の体重は 62.5 kg です．
```

出力する変数に対して、寄せやゼロ埋め、桁区切りといった書式の指定も出来ます．

#### コード 4

```py
number = 12345
print(f'右寄せ　：{number: >8}')
print(f'中央寄せ：{number: ^8}')
print(f'左寄せ　：{number: <8}')

print(f'ゼロ埋め：{number:08}')

print(f'桁区切り：{number:,}')
```

#### 出力 4

```out
右寄せ　：   12345
中央寄せ： 12345
左寄せ　：12345
ゼロ埋め：00012345
桁区切り：12,345
```

書式指定の詳細は [Python の f 文字列（フォーマット済み文字列リテラル）の使い方](https://note.nkmk.me/python-f-strings/) を参照してください．

:::

## [ 3 ] 変数の更新

`変数名 = 新しい値` で変数の中身を更新します．

#### コード 5

```py {4}
x = 5   # 変数 x を 5 と定義する
print(f'old : {x}')

x = 11  # x の値を 11 に更新する
print(f'new : {x}')
```

#### 出力 5

```out
old : 5
new : 11
```

次のコード 6 の 4 行目のように、元の変数の値を使って中身を更新することもできます．

#### コード 6

```py {4}
x = 5      # 変数 x を 5 と定義する
print(f'old : {x}')

x = x + 3  # x に 3 を加えた値に更新する (右辺の x には 5 が入っている)
print(f'new : {x}')
```

#### 出力 6

```out
old : 5
new : 8
```

::: tip TIP : 複合代入演算子

コード 6 の `x = x + 3` はよりシンプルに `x += 3` と書くことができます．

`+=` のような演算子を複合代入演算子と言います．

Python における複合代入演算子は下表の通りです．

|  演算子   |     意味     |
| :-------: | :----------: |
| `A += B`  | `A = A + B`  |
| `A -= B`  | `A = A - B`  |
| `A *= B`  | `A = A * B`  |
| `A **= B` | `A = A ** B` |
| `A /= B`  | `A = A / B`  |
| `A //= B` | `A = A // B` |
| `A %= B`  | `A = A % B`  |

:::

## [ 4 ] 変数を使う理由

具体例を交えて説明します．

次のコード 7 は半径 2 の円の円周と面積を求めるプログラムです (円周率は 3.14 とします)．

#### コード 7

```py
print(2 * 3.14 * 2) # 円の円周
print(3.14 * 2 * 2) # 円の面積
```

コード 7 には、次のような問題があります．

1. 円周率を変更する (3.14 → 3.14159) ときに 2 箇所も変更する必要があり、<br>
   打ち間違える可能性がある．

2. 1 行目と 2 行目は同じコードであり、コメントがないと円周と面積の区別がつかない．

上の問題は変数を使用することで解決します．

次のコード 8 では、半径を表す変数を `r`、円周率を表す変数を `PI` としています．

#### コード 8

```py
PI = 3.14   # 円周率
r = 2       # 半径
print(2 * PI * r)
print(PI * r * r)
```

コード 8 が先程の問題を解決していることが分かります．

1. 円周率の入力は 1 箇所をで済むため、打ち間違えのリスクが小さい．

2. コメントがなくても、1 行目は円周、2 行目は円の面積を表していると分かる．

このように、変数を使うことでデータの扱いが簡単になったり、プログラムの見通しがよくなったりします．
