# 6. 文字列

## 6-1. 文字列の操作

### 文字列の連結

`文字列1 + 文字列2` は `文字列1` と `文字列2` を連結した文字列を表します．

#### コード 1

``` py
S = "ABCD"
T = "EFGH"
print(S + T)  # ABCDEFGT
```

### 文字列の繰り返し

`文字列 * 回数` は `文字列` を `回数` 回繰り返した文字列を表します．

#### コード 2

``` py
S = 'ABC'
K = 4
print(S * K)  # ABCABCABCABC
```

### その他の文字列操作

その他の文字列操作を下表にまとめます．

| 操作 | 内容 |
| :--: | :--: |
| `len(S)` | 文字列 `S` の長さを返します |
| `S.find(T)` | 文字列 `S` 中に文字列 `T` が出現する位置を返します |
| `S.count(T)` | 文字列 `S` 中に文字列 `T` が重複せずに何回出現するかを返します |
| `S.upper()` | 文字列 `S` の全ての文字を大文字にします |
| `S.lower()` | 文字列 `S` の全ての文字を小文字にします |

#### コード 3

``` py
S = 'This is a banana.'
print(len(S))
print(S.find('na'))   # 'na' は S 中で 12 文字目から始まる
print(S.find('x'))    # 'x' は S 中に出現しない
print(S.count('na'))  # 'na' は S 中で 2 回出現する
print(S.count('ana')) # 'ana' は S 中で重複せずに 1 回出現する
print(S.uppper())
print(S.lower())      # S の最初の文字 T が小文字になる
```

#### 出力 3

``` out
17
12
-1
2
1
THIS IS A BANANA.
this is a banana.
```

### 練習問題

#### 問題 6-1 : [Strings](https://atcoder.jp/contests/abc149/tasks/abc149_a)

<br>
<details><summary>問題 6-1 の解答</summary><div>

``` py
S, T = input().split()
print(T + S)
```

</div></details>

#### 問題 6-2 : [I miss you...](https://atcoder.jp/contests/abc154/tasks/abc154_b)

<br>
<details><summary>問題 6-2 の解答</summary><div>

``` py
S = input()
print('x' * len(S))
```

</div></details>

#### 問題 6-3 : [Placing Marbles](https://atcoder.jp/contests/abc081/tasks/abc081_a)

<br>
<details><summary>問題 6-3 の解答</summary><div>

``` py
S = input()
print(S.count('0'))
```

</div></details>

#### 問題 6-4 : [リング](https://onlinejudge.u-aizu.ac.jp/courses/lesson/2/ITP1/8/ITP1_8_D)

<br>
<details><summary>問題 6-4 の解答</summary><div>

``` py
S = input()
P = input()

#  S を 2 回連ねて、P が S の末尾をまたいで出現する場合を対処する
S = S + S

if S.find(P) < 0:
    print('No')
else:
    print('Yes')
```

</div></details>

## 6-2. 文字列の一部を取得する

### インデックス

文字列の先頭からの位置 (**インデックス**) を指定することで、その位置の文字を取得できます．

- `文字列[インデックス]` でその位置の文字を取得します．

- Python では、インデックスは `0` から数えます．

- インデックスを文字列の長さ以上にするとエラーが発生するので注意しましょう．

#### コード 4

``` py
S = 'ABCDE'
print(S[0])     # A
print(S[4])     # E
print(S[100])   # エラーが発生する
```

::: tip TIP : 負のインデックス

Python ではインデックスに負の数を使用できます．

最後から 1 番目のインデックスは `-1`、最後から 2 番目のインデックスは `-2` となります．

#### コード 5

``` py
S = 'ABCDE'
print(S[-1])    # E
print(S[-2])    # D
print(S[-100])  # エラーが発生する
```

:::

### スライス

文字列の範囲を指定することで、その範囲の文字列を取得することができます．

`文字列[開始インデックス:終了インデックス]` で `開始インデックス`から `終了インデックス` の直前までを取り出します．

- `終了インデックス` の文字は含まないことに注意しましょう．

- `開始インデックス` を省略すると、デフォルトで 0 が入ります．

- `終了インデックス` を省略すると、デフォルトで `文字列の長さ` が入ります．

#### コード 6

``` py
S = 'ABCDE'
print(S[1:3])  # 1 文字目から 2 文字目まで
print(S[:4])   # 0 文字目から 3 文字目まで
print(S[2:])   # 2 文字目から末尾まで
```

#### 出力 6

``` out
BC
ABCD
CDE
```

上のようにインデックスを指定して文字列の一部を取得する機能を **スライス** と言います．

::: tip TIP : ステップ数

`文字列[開始インデックス:終了インデックス:ステップ数]` で `ステップ数` 文字ごとに `開始インデックス` から `終了インデックス` 直前までを取り出します．

- `ステップ数` を指定しない場合、デフォルトで 1 になります．

- `ステップ数` に -1 を指定すると、逆順に文字を抽出します (コード 7 参照)

#### コード 7

``` py
S = 'ABCDEFGH'
print(S[1:7:])   # 1 文字目から 6 文字目まで
print(S[1:7:2])  # 1 文字目から 6 文字目までを 2 文字ごとに抽出する
print(S[1:7:-1]) # 1 文字目から 6 文字目までを逆順に抽出する
```

#### 出力 7

``` out
BCDEFG
BDF
GFEDCB
```

:::

### 練習問題

#### 問題 6-5 : [Diagonal String](https://atcoder.jp/contests/abc090/tasks/abc090_a)

<br>
<details><summary>問題 6-5 の解答</summary><div>

``` py
a = input()
b = input()
c = input()
print(a[0] + b[1] + c[2])
```

</div></details>

#### 問題 6-6 : [Palindromic Number](https://atcoder.jp/contests/abc070/tasks/abc070_a)

<br>
<details><summary>問題 6-6 の解答</summary><div>

``` py
N = input()
if N == N[::-1]:
    print('Yes')
else:
    print('No')
```

</div></details>

## 6-3. 文字列の一部を変更する

コード 7 のように、`+` 演算子とスライスを使用して文字列の一部を変更します．

#### コード 8

``` py {4,8}
S = 'ABCDE'

# S の 0 文字目を 'X' に変更
S = 'X' + S[1:]
print(S)

# S の 2 ~ 3 文字目を 'xy' に変更
S = S[:2] + 'xy' + S[4:]
print(S)
```

#### 出力 8

``` out
XBCDE
XBxyE
```

::: warning 注意: 文字列の一部の変更

文字列の一部を次のように変更するとエラーが生じるので注意しましょう．

``` py
s = 'ABCDE'
s[0] = 'X'     # エラーが発生する
s[2:3] = 'xy'  # エラーが発生する
```

:::

### 練習問題

#### 問題 6-7 : [Already 2018](https://atcoder.jp/contests/abc085/tasks/abc085_a)

<br>
<details><summary>問題 6-7 の解答</summary><div>

``` py
S = input()
S = '2018' + S[:4]
print(S)
```

</div></details>

## 6-4. まとめ

- 文字列の連結には `+`, 文字列の繰り返しには `*` を使用する．

- 文字列一部を取得するにはインデックスとスライスを使用する．

- インデックスは 0 から始まる．
