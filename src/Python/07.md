# 7. リスト

**リスト** とは複数のデータをまとめたようなものです．

リストも文字列や整数と同じくデータの種類 (型) の 1 つです．

コード 1 のように複数のデータを `[]` で囲んで記述します．

#### コード 1

``` py
#  数字や文字列を [] で囲む
[1, 2, 3, 4, 5]
["dog", "cat", "fish"]

# 異なる種類のデータが混在してもいい
["A", 2]

# 入れ子にもできる
[[1, 2, 3], [4, 5, 6]]
```

## 7-1. リスト操作

### リストの繰り返し

`リスト * 回数` は `リスト` を `回数` 回繰り返したリストを表します．

`[x] * N` で `N` 個の `x` からなるリストを作成することができます．(リストの初期化)

#### コード 2

``` py
L1 = [1, 2, 3]
print(L1 * 3)   # [1, 2, 3, 1, 2, 3, 1, 2, 3]

# 要素数が 5 のリストを 0 で初期化する．
L2 = [0] * 5
print(L2)       # [0, 0, 0, 0, 0]
```

### 要素の追加

`リスト.append(要素)` で `リスト` の末尾に `要素` を追加します．

#### コード 3

``` py
L = [1, 2, 3]
L.append(4)
print(L)    # [1, 2, 3, 4]
```

### 要素の連結

`区切り文字列.join(文字列からなるリスト)` で `文字列からなるリスト` の各文字列を `区切り文字列` で連結した文字列を返します．

#### コード 4

``` py
L = ['A', 'B', 'C']
print(', '.join(L))  # A, B, C
print(' and '.join(L))   # A and B and C
```

### リストのソート

`sorted(リスト)` で `リスト` の要素をソートしたリストを返します．

#### コード 5

``` py
L = [3, 1, 4, 1, 5, 9]
L = sorted(L)
print(L)  # [1, 1, 3, 4, 5, 9]
```

### その他のリスト操作

| 操作 | 内容 |
| :--: | :--: |
| `len(L)` | リスト `L` の要素数を返します |
| `sum(L)` | リスト `L` の要素の総和を返します |
| `min(L)` | リスト `L` の最小要素を返します |
| `max(L)` | リスト `L` の最大要素を返します |
| `sorted(L)` | リスト `L` をソートしたリストを返します |

#### コード 6

``` py
L = [3, 1, 4, 1, 5, 9]
print(3 in L)   # True
print(100 in L) # False
print(len(L))   # 6
print(sum(L))   # 23
print(min(L))   # 1
print(max(L))   # 9
```

## 7-2. リストの一部を取得する

文字列と同様に、リストに関してもインデックスとスライスを用いて要素を取得できます．

#### コード 7

``` py
L = [1, 2, 3, 4, 5]
print(L[0])     # 1
print(L[-1])    # 5
print(L[1:3])   # [2, 3]
print(L[:3])    # [1, 2, 3]
print(L[1:])    # [2, 3, 4, 5]
print(L[::-1])  # [5, 4, 3, 2, 1]
```

## 7-3. リストの一部を変更する

インデックス・スライスを指定してリストの要素を変更することができます．

- `リスト[インデックス] = 値` で、指定する要素の値を変更します．

- `リスト[start:stop] = リスト'` で、指定した範囲の要素を `リスト'` の要素に変更します．

#### コード 8

``` py
L = [1, 2, 3, 4, 5]

L[0] = 100  # 0 番目の要素を 100 に変更
print(L)

L[1:4] = [-1, -2]  # 1 番目 ~ 3 番目の要素を -1, -2 に変更
print(L)

L[:2] = []  # 0 番目 ~ 1 番目の要素を削除
print(L)
```

#### 出力 8

``` out
[100, 2, 3, 4, 5]
[100, -1, -2, 5]
[-2, 5]
```

## 7-4. リストと `for` 文

`for 変数 in リスト` で `変数` に `リスト` の要素を代入しながらループを回します．

#### コード 9

``` py
L = [3, 1, 4, 1, 5]
for i in L:
    print(i)
```

#### 出力 9

``` out
3
1
4
1
5
```

### リスト内包表記

リスト内包表記とは、`for`, `if` を使ってリストをシンプルに記述する方法です．

`[式 for 変数 in イテラブルオブジェクト]` というように記述します．

- `イテラブルオブジェクト` には `range` やリストなどを入れることができます．

- `変数` にはイテラブルオブジェクトの要素が代入されます．

#### コード 10

``` py
L1 = [i for i in range(1, 10, 2)]  # 1 ~ 9 までの奇数を抽出する
print(L1)

A = [5, 6, 7, 8, 9, 0, 1, 2, 3, 4]
L2 = [a * 3 for a in A]        # A の各要素を 3 倍する
print(L2)
```

#### 出力 10

``` out
[1, 3, 5, 7, 9]
[15, 18, 21, 24, 27, 0, 3, 6, 9, 12]
```

`[式 for 変数 in イテラブルオブジェクト if 条件式]` と書くことで、`条件式` が `True` のときの要素を抽出できます．

#### コード 11

``` py
L1 = [i for i in range(1, 10) if i % 2 == 1]  # 1 ~ 9 までの奇数を抽出する
print(L1)

A = [5, 6, 7, 8, 9, 0, 1, 2, 3, 4]
L2 = [a for a in A if a % 2 == 0]   # A の偶数の要素を抽出する
print(L2)
```

#### 出力 11

``` out
[1, 3, 5, 7, 9]
[6, 8, 0, 2, 4]
```

## 7-5. リストの入力

リストの入力には基本的に次の 2 パターンがあります．

### パターン 1

次のように、要素数 `N` とリストの要素 `A[1], A[2], ... A[N]` が 1 行ずつ与えられるパターンです．

``` in
N
A[1]
A[2]
...
A[N]
```

これは、コード 12 のようにリスト内包表記を使用すればいいです．

#### コード 12

``` py
N = int(input())

# A の各要素が整数の場合
A = [int(input()) for i in range(N)]

# A の各要素が文字列の場合
A = [input() for i in range(N)]
```

### パターン 2

次のように、リストの要素 `A[1], A[2], ... A[N]` が 1 行にまとめて与えられるパターンです．

``` in
A[1] A[2] ... A[N]
```

これは、コード 13 のように書けばいいです．

#### コード 13

``` py
# A の各要素が整数の場合
A = list(map(int, input().split()))

# A の各要素が文字列の場合
A = input().split()
```

## 7-6. リストの出力

リストを `print` 関数でそのまま出力すると、両端に角括弧 `[]`、要素間に `,` がついてしまいます．

リストの前にアスタリスク `*` をつけることで、それらを付けずに出力します．

#### コード 14

``` py
L = [1, 2, 3, 4, 5]
print(L)
print(*L)
```

#### 出力 14

``` out
[1, 2, 3, 4, 5]
1 2 3 4 5
```

### 練習問題

#### 問題 7-1 : [最小値、最大値、合計値](https://onlinejudge.u-aizu.ac.jp/courses/lesson/2/ITP1/4/ITP1_4_D)

<br>
<details><summary>問題 7-1 の解答</summary><div>

``` py
n = int(input())
a = list(map(int, input().split()))
print(min(a), max(a), sum(a))
```

</div></details>

#### 問題 7-2 : [数列の反転](https://onlinejudge.u-aizu.ac.jp/courses/lesson/2/ITP1/6/ITP1_6_A)

<br>
<details><summary>問題 7-2 の解答</summary><div>

``` py
n = int(input())
a = list(map(int, input().split()))
print(*a[::-1])
```

- `a[::-1]` は `a` の要素を逆順に並べたリストです．

</div></details>
